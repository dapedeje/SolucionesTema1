---
title: "Tema 1 Boletin"
subtitle: Tratamiento de Datos. Grado en Ciencia de Datos- UV
author: "David Alejandro Pedroza De Jesús"
#Pone la fecha de generación del documento
date:  "`r Sys.Date()`"  #Pondría la fecha del día actual
# Para que en lugar de "Contents" ponga "Indice" al incluir la tabla de contenido

params:
  lang: ES
lang: "`r switch(params$lang, ES = 'es-ES', EN = 'en-US')`"

output:
  pdf_document:
    toc: yes
    toc_depth: 3
    number_sections: yes
  html_notebook:
    echo: yes
    number_sections: yes
    toc: yes
  html_document:
    echo: yes
    number_sections: yes
    theme: lumen
    toc: yes
language:
  label:
    fig: 'Figura '
    tab: 'Tabla '
    eq: 'Ecuación '
    thm: 'Teorema '
    lem: 'Lema '
    def: 'Definición '
    cor: 'Corolario '
    prp: 'Proposición '
    exm: 'Ejemplo '
    exr: 'Ejercicio '
    proof: 'Demostración. '
    remark: 'Nota: '
    solution: 'Solución. '

---


```{r setup, cache = F, echo = F, message = F, warning = F, tidy = F}

# CONFIGURACIÓN GENERAL
library(knitr)
options(width = 100)
# Opciones generales chunks
opts_chunk$set(echo=T,message = F, error = F, warning = F, comment = NA, fig.align = 'center', dpi = 100, tidy = F, cache.path = '.cache/', fig.path = './figure/')

#options(xtable.type = 'html')
knit_hooks$set(inline = function(x) {
  
  if(is.numeric(x)) {
    round(x, getOption('digits'))
  } else {
    paste(as.character(x), collapse = ', ')
  }
})
#knit_hooks$set(plot = knitr:::hook_plot_html)
```

1. Considera los conjuntos de datos mammals del paquete MASS y Animals2 del paquete robustbase.

a. Mira la las características de ambos conjuntos usando la ayuda.
b. Usa las funciones dim, head, tail, str para una primera visión de los conjuntos de datos.
c. Muestra los nombres de las filas y las columnas (rownames, colnames)
d. Usa la función intersect y almacena en la variable commonAnimals los aminales que aparezcan
en ambos conjuntos
e. Usa setdiff para averiguar qué animales no están en ambos conjuntos. ¿Cuántos son ?. ¿Qué tipo
de animales son?
f. Determina las diferencia entre los animales que no aparecen en ambos conjuntos.

```{r}
library(MASS)
library(robustbase)
data("mammals")
data("Animals2")
#a Veremos que nos dice el comando ayuda
help(mammals)#Relacion entre el tamaño del cuerpo y el cerebro
help(Animals2)#La misma relacion pero tiene 65 especies

#b
#Para el conjunto mammals
dim(mammals)
head(mammals)
tail(mammals)
str(mammals)

#Para el otro conjunto
dim(Animals2)
head(Animals2)
tail(Animals2)
str(Animals2)

#c
#Vamos a ver los nombres de mammals
rownames(mammals)
colnames(mammals)

#Vamos a ver los nombres de Animals2
rownames(Animals2)
colnames(Animals2)

#d
#Debemos usar la función con el nombre de las filas
commonAnimals <- intersect(rownames(Animals2), rownames(mammals))

#e
#Ahora haremos lo contrario con setdiff
anifalt<-setdiff(rownames(Animals2), rownames(mammals))
anifalt#Podemos ver que son dinosaurios y animales articos

#f
#Si nos fijamos el las criaturas que son discordantes son dinosaurios o animales
#articos, salvo por el topo.


```

2. La funcion qqPlot del paquete car puede ser utilizada para determinar gráficamente si una serie
de puntos siguen una distribución de datos Gaussiana. Si las muestras están dentro de las líneas
discontinuas podemos indicar que siguen una distribución Gaussiana con un 95 % de confianza.
Utilizando esta función representa el logaritmo neperiano (log) del peso del cerebro (brain weigths)
del registro de datos mammals del paquete MASS y conjunto de datos Animals2 de la librería
robustbase. ¿Presentan el mismo comportamiento ?.¿Podríamos decir que siguen una distribución
Gaussiana ?

```{r}
library(car)
#Para el conjuto de datos mammals
qqPlot(log(mammals$brain), main = "QQ plot - Mammals")
#Para el otro conjunto
qqPlot(log(Animals2$brain), main = "QQ plot - Animals2")
#Podemos ver que esta si sigue una distribución gausiana, ya que en ambos la 
#mayoria de los puntos se encuentran dentro de lineas discontinuas,pero algunos 
#los puntos de los extremos se van un poco

```
3. La función library sin argumentos abre una ventana y muestra las librerías que han sido instaladas.
a. Asigna el valor devuelto por esta función a la variable libReturn y observa su estructura.
b. Uno de los elementos de la lista es una matriz de caracteres. Muestra por pantalla los 5 primeros
elementos de esta matriz usando la función head.
c. Determina el número de librerías que tienes instaladas.

```{r}
#a
libReturn<- library()
str(libReturn)#Es una lista de 3 elementos,que su vez tiene un vector de caracteres

#b
head(libReturn$results,n = 5L)#Mostramos el vector de  de chr

#c
dim(libReturn$results)#Podemos ver que son 193 librerías

```
4. En las transparencias del tema 1 se citan los primeros pasos a seguir cuando se analiza un nuevo
conjunto de datos.
a. Determina las tres primeras etapas para el conjunto de datos cabbages del paquete MASS
b. Puedes determinar el número de valores perdidos (almacenados como NA en R) usando la función
is.na. Determina el número de valores perdidos para cada una de las variables del conjunto
cabbages.
c. Repite los apartados anteriores con el conjunto de datos Chile del paquete carData.
d. Utiliza la función summary, sobre cabbages y Chile y observa como, además de otros
estadísticos, también devuelve el número de valores perdidos de cada variable.

Apartado a.

Podemos ver que los primeros pasos serian:

*Comprender el problema a tratar 
*Limpiar los datos 
*El analisis exploratorio

```{r}
data(cabbages)#Cargaremos los datos
help(cabbages)#Comprender el problema
plot(cabbages$VitC,cabbages$HeadWt)#Analisis exploratorio lo que conlleva hacer un gráfico

#Apartado b
sum(is.na(cabbages))#Sumamos los valores True y vemos que son 0
#Apartado c
library(carData)
data(Chile)#Cargar los datos
help(Chile)#Comprender el problema
mosaicplot(Chile$sex~Chile$vote)#Analisis exploratorio lo que conlleva hacer un gráfico.


```

